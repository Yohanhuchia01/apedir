import{r as a,j as t}from"./vendor-TeGnUX-f.js";import{F as w,a3 as S,a4 as B,a5 as I,G as C,E as z,a6 as j,a7 as y,a8 as E,i as D,f as x,h as f,T as b}from"./index-IetW687g.js";import{a as T,b as V,c as _}from"./search-Z-5xCiDt.js";const O=(n,e)=>{const[c,u]=a.useState(n);return a.useEffect(()=>{const i=setTimeout(()=>{u(n)},e);return()=>{clearTimeout(i)}},[n,e]),c},G=O;function H({filtredBussinesses:n}){return w(e=>e.setShowFilter),t.jsx("div",{className:"list-container",style:{gap:"10px",display:"grid",placeItems:"center",alignContent:"stretch"},children:n!==null&&n.map(e=>t.jsx("div",{children:t.jsx(S,{id:e.id,imagen:e.perfil_pic,localizacion:e.province,gps_location:e.gps_location,nombre:e.name,numeroPersonas:e.numeroPersonas,url:e.value_url})},e.id))})}function R({filtredProducts:n}){return t.jsx("div",{className:"list-container",style:{gap:"10px",display:"grid",placeItems:"center",alignContent:"stretch"},children:n!==null&&n.map(e=>t.jsx(B,{image:e.image,name:e.name,price:e.price,currency:e.currency,url:e.url},e.id))})}function $({filtredEvents:n}){return t.jsx("div",{className:"list-container",style:{gap:"10px",display:"grid",placeItems:"center",alignContent:"stretch"},children:n!==null&&n.map(e=>t.jsx(I,{nombre:e.name,imagen:e.image},e.id))})}function K(){const n=C(s=>s.search),e=G(n,1e3),c=z(s=>s.province),u=j(s=>s.bussinessList),i=j(s=>s.seBussinessList),L=y(s=>s.products),d=y(s=>s.seProducts),F=E(s=>s.events),l=E(s=>s.setEvents),p=D(s=>s.category),[g,P]=a.useState([]),[h,k]=a.useState([]),[m,N]=a.useState([]);return a.useEffect(()=>{const s=async()=>{const r=await T(e);i(r),P(r)},o=async()=>{const r=await V(e);d(r),k(r)};e!==""&&((async()=>{const r=await _(e);l(r),N(r)})(),o(),s())},[e]),a.useEffect(()=>{if(c!=="todas"){const s=g.filter(r=>r.province===c);i(s);const o=h.filter(r=>r.province===c);d(o);const v=m.filter(r=>r.province===c);l(v)}else l(m),i(g),d(h)},[c]),a.useEffect(()=>{if(p!=="todas"){const s=g.filter(o=>o.category===p);i(s)}else l(m)},[p]),t.jsx("div",{children:e!==""&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:x,className:"container flex z-40 w-full h-auto items-center justify-center data-[menu-open=true]:border-none top-0 inset-x-0  backdrop-blur-lg data-[menu-open=true]:backdrop-blur-xl backdrop-saturate-150 bg-background/70",children:t.jsxs("section",{className:"section px-6",style:f,children:[t.jsx(b,{title:"Eventos"}),t.jsx($,{filtredEvents:F})]})}),t.jsx("div",{style:x,className:"container flex z-40 w-full h-auto items-center justify-center data-[menu-open=true]:border-none top-0 inset-x-0  backdrop-blur-lg data-[menu-open=true]:backdrop-blur-xl backdrop-saturate-150 bg-background/70",children:t.jsxs("section",{className:"section px-6",style:f,children:[t.jsx(b,{title:"Productos"}),t.jsx(R,{filtredProducts:L})]})}),t.jsx("div",{style:x,className:"container flex z-40 w-full h-auto items-center justify-center data-[menu-open=true]:border-none top-0 inset-x-0  backdrop-blur-lg data-[menu-open=true]:backdrop-blur-xl backdrop-saturate-150 bg-background/70",children:t.jsxs("section",{className:"section px-6",style:f,children:[t.jsx(b,{title:"Negocios"}),t.jsx(H,{filtredBussinesses:u})]})})]})})}export{K as default};
