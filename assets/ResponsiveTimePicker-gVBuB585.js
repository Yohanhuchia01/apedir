import{r as c,R as f,j as a,b,c as x,a as C,T as h,d as m}from"./vendor-TeGnUX-f.js";import{u as j,a as S,g as k,c as v}from"./index-IetW687g.js";/* empty css              */import{L as y}from"./Loader-XWUzDvSh.js";const d="HH:mm",T=()=>a.jsx("p",{children:"Loading"}),L={display:"grid",gridTemplateColumns:"repeat(4,1fr)",placeItems:"center",minHeight:"100px",width:"100%",gap:"10px",padding:"10px"},B={display:"grid",gridTemplateColumns:"repeat(1,1fr)",placeItems:"center",gap:"10px"},w={fontSize:"20px",fontWeight:"bold"},R=f.memo(function({dia:r,index:n,dias:t,setDias:o}){const p=c.useCallback(e=>{o(t.map((l,u)=>u===n?{...l,trabaja:!l.trabaja}:l))},[t]),s=c.useCallback((e,l)=>{o(t.map((u,g)=>g===n?{...u,[l]:e?e.format(d):null}:u))},[t]);return a.jsxs(x,{style:L,className:"card-horarios-picker",children:[a.jsx("div",{children:a.jsx("h2",{style:w,children:r.dia})}),a.jsxs("div",{children:[a.jsx(C,{isSelected:r.trabaja,onValueChange:p,color:"primary"}),a.jsx("label",{htmlFor:"",children:"Trabaja"})]}),a.jsxs(c.Suspense,{fallback:T(),children:[a.jsx(h,{format:d,value:r.entrada?m(r.entrada,d):null,onChange:e=>s(e,"entrada")}),a.jsx(h,{value:r.salida?m(r.salida,d):null,format:d,onChange:e=>s(e,"salida")})]})]},n)});function P(){const i=j(s=>s.bussiness);j(s=>s.setBussiness);const[r,n]=c.useState(!1);S(s=>s.user);const[t,o]=c.useState([{dia:"Lunes",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"Martes",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"Miercoles",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"Jueves",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"Viernes",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"SÃ¡bado",entrada:"8:00",salida:"20:00",trabaja:!0},{dia:"Domingo",entrada:"8:00",salida:"20:00",trabaja:!0}]);f.useEffect(()=>{i&&(async()=>{const e=await k(i.id);console.log(e),o(e)})()},[i]);const p=async()=>{n(!0),await v(i.id,t),n(!1)};return a.jsxs("div",{style:B,children:[a.jsx(b,{variant:"shadow",color:"primary",onClick:p,children:"Actualizar horarios"}),r&&a.jsx(y,{text:"Actualizando los horarios del negocio, por favor espere..."}),t.map((s,e)=>a.jsx(R,{dia:s,index:e,dias:t,setDias:o},e))]})}export{P as default};
